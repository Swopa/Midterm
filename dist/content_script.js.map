{
  "version": 3,
  "sources": ["../src/content_script.ts"],
  "sourcesContent": ["function getSelectedText(): string {\r\n  const selection = window.getSelection();\r\n  if (selection) {\r\n    return selection.toString().trim();\r\n  }\r\n  return \"\";\r\n}\r\n\r\nconsole.log(\"Flashcard Content Script Loaded!\");\r\n\r\nlet lastSelectedText: string | null = null;\r\n\r\ndocument.addEventListener('mouseup', () => {\r\n  const text = getSelectedText();\r\n  if (text) {\r\n    console.log(\"Content Script captured selection:\", text);\r\n    lastSelectedText = text; // Store the text\r\n\r\n    // Still send immediate message in case popup is open\r\n    chrome.runtime.sendMessage({\r\n        type: \"CONTENT_SCRIPT_SELECTION\",\r\n        text: text\r\n    }).catch(err => { /* Ignore \"no receiving end\" error */ });\r\n  }\r\n});\r\n\r\n// --- Listener for messages FROM the popup ---\r\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n  //logging for checking errors\r\n  console.log(\"!!! CS Received Message! Type:\", message?.type, \"From:\", sender?.origin);\r\n\r\n  if (message.type === \"POPUP_GET_SELECTED_TEXT\") {\r\n    console.log(\"!!! CS -> POPUP_GET_SELECTED_TEXT type matched!\");\r\n    // Access lastSelectedText correctly\r\n    console.log(\"!!! CS -> Sending back:\", lastSelectedText);\r\n\r\n    \r\n    sendResponse({ text: lastSelectedText });\r\n\r\n    // Optional: Clear text after sending if you only want it retrieved once\r\n    // lastSelectedText = null;\r\n\r\n    \r\n    \r\n    return true;\r\n  }\r\n  // For other message types, implicitly return undefined (no async response needed)\r\n});\r\n// --- End of listener ---\r\n\r\n// export {}; // Optional"],
  "mappings": ";AAAA,SAAS,kBAA0B;AACjC,QAAM,YAAY,OAAO,aAAa;AACtC,MAAI,WAAW;AACb,WAAO,UAAU,SAAS,EAAE,KAAK;AAAA,EACnC;AACA,SAAO;AACT;AAEA,QAAQ,IAAI,kCAAkC;AAE9C,IAAI,mBAAkC;AAEtC,SAAS,iBAAiB,WAAW,MAAM;AACzC,QAAM,OAAO,gBAAgB;AAC7B,MAAI,MAAM;AACR,YAAQ,IAAI,sCAAsC,IAAI;AACtD,uBAAmB;AAGnB,WAAO,QAAQ,YAAY;AAAA,MACvB,MAAM;AAAA,MACN;AAAA,IACJ,CAAC,EAAE,MAAM,SAAO;AAAA,IAAwC,CAAC;AAAA,EAC3D;AACF,CAAC;AAGD,OAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,QAAQ,iBAAiB;AAEtE,UAAQ,IAAI,kCAAkC,SAAS,MAAM,SAAS,QAAQ,MAAM;AAEpF,MAAI,QAAQ,SAAS,2BAA2B;AAC9C,YAAQ,IAAI,iDAAiD;AAE7D,YAAQ,IAAI,2BAA2B,gBAAgB;AAGvD,iBAAa,EAAE,MAAM,iBAAiB,CAAC;AAOvC,WAAO;AAAA,EACT;AAEF,CAAC;",
  "names": []
}
